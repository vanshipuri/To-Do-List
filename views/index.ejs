<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= listTitle %> - To-do List</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gradient-to-br from-blue-100 to-purple-200 min-h-screen flex flex-col font-sans">

    <!-- Navbar -->
    <nav class="bg-white border-gray-200 dark:bg-gray-900">
    <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl p-4">
        <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
            <img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="Flowbite Logo" />
            <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">To-Do list</span>
        </a>
        <div class="flex items-center space-x-6 rtl:space-x-reverse">
            <a href="#" class="text-sm  text-blue-600 dark:text-blue-500 hover:underline">Login</a>
        </div>
    </div>
</nav>

    <div class="flex flex-col md:flex-row items-center justify-center gap-6 p-4 flex-wrap">

  <!-- üîΩ List Selector Dropdown -->
  <div class="relative">
    <button id="dropdownBtn" onclick="toggleDropdown()" class="text-white bg-indigo-900 hover:bg-indigo-800 focus:outline-none focus:ring-4 focus:ring-indigo-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center">
      Select List
      <svg class="w-3 h-3 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1l4 4 4-4"/>
      </svg>
    </button>

    <!-- Dropdown Menu -->
    <div id="dropdownMenu" class="absolute z-10 hidden mt-2 bg-white rounded-lg shadow w-44">
      <ul class="py-2 text-sm text-gray-700">
        <li><a href="/lists/School" class="block px-4 py-2 hover:bg-gray-100">School</a></li>
        <li><a href="/lists/Work" class="block px-4 py-2 hover:bg-gray-100">Work</a></li>
        <li><a href="/lists/Homework" class="block px-4 py-2 hover:bg-gray-100">Homework</a></li>
        <li><a href="/lists/Grocery" class="block px-4 py-2 hover:bg-gray-100">Grocery</a></li>
      </ul>
      <div class="py-2 border-t">
        <a href="#" class="block px-4 py-2 text-sm text-indigo-600 hover:bg-gray-100">+ Add New List</a>
      </div>
    </div>
  </div>

  <!-- üìù Add Task Form -->
  <form action="/lists/add/<%= listTitle %>" method="POST" class="flex gap-2 w-full md:max-w-lg shadow">
    <input type="text" name="todo" placeholder="Add your task..." required autofocus
      class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    <button type="submit" class="bg-indigo-900 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">
      ‚ûï 
    </button>
  </form>

</div>

 <!-- Title -->
<div class="mt-6">
  <h2 class="text-center text-3xl font-bold text-gray-800 mb-4"><%= listTitle %> List</h2>
</div>


   
   
    <!-- Task List -->
  <div class="w-full max-w-3xl mx-auto bg-white rounded-2xl shadow-lg p-6 space-y-6 mt-6">
  
  <!-- üîó List Selector Nav -->
  <nav class="bg-gray-100 rounded-xl px-4 py-3">
    <ul class="flex flex-wrap justify-center font-medium space-x-6 text-sm text-gray-700">
      <li><a href="/lists/School"  class="<%= listTitle === 'School' ? 'text-white bg-indigo-700 px-4 py-2 rounded-lg' : 'text-gray-600 hover:text-indigo-600' %> ">School</a></li>
      <li><a href="/lists/Work" class="<%= listTitle === 'Work' ? 'text-white bg-indigo-700 px-4 py-2 rounded-lg' : 'text-gray-600 hover:text-indigo-600' %>">Work</a></li>
      <li><a href="/lists/Homework" class="<%= listTitle === 'Homework' ? 'text-white bg-indigo-700 px-4 py-2 rounded-lg' : 'text-gray-600 hover:text-indigo-600' %>">Homework</a></li>
      <li><a href="/lists/Grocery" class="<%= listTitle === 'Grocery' ? 'text-white bg-indigo-700 px-4 py-2 rounded-lg' : 'text-gray-600 hover:text-indigo-600' %>">Grocery</a></li>
    </ul>
  </nav>

  <!-- ‚úÖ Task List -->
 <ul class="space-y-3">
  <% todos.forEach(function(task, index) { %>
    <li class="flex justify-between items-center border-b pb-2">
      <span class="<%= task.completed ? 'line-through text-gray-400' : 'text-gray-800' %>">
        <%= task.name %>
      </span>

      <% if (!task.completed) { %>
        <form action="/lists/complete/<%= listTitle %>" method="POST">
          <input type="hidden" name="taskIndex" value="<%= index %>">
          <button type="submit" class="bg-green-100 text-green-700 px-3 py-1 rounded-lg text-sm hover:bg-green-200">
            Completed ‚úÖ
          </button>
        </form>
      <% } else { %>
        <form action="/lists/delete/<%= listTitle %>" method="POST">
          <input type="hidden" name="taskIndex" value="<%= index %>">
          <button type="submit" class="bg-red-100 text-red-600 px-3 py-1 rounded-lg text-sm hover:bg-red-200">
            Delete üóëÔ∏è
          </button>
        </form>
      <% } %>
    </li>
  <% }) %>
</ul>


</div>
   


    <!-- Footer -->
    <footer class="mt-auto bg-white shadow-inner text-center text-gray-600 py-4 text-sm">
      <%- include('partials/footer'); %>
    </footer>

    <!-- Dropdown Toggle Script -->
    <script>
      function toggleDropdown() {
        const menu = document.getElementById('dropdownMenu');
        menu.classList.toggle('hidden');
      }
    </script>
  </body>
</html>

